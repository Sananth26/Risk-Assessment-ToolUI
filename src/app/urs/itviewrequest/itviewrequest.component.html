<!-- <h5 class="strong">Firewall Information</h5> -->
<div class="card">
    <div class="card-body">
  <div class="card-header" style="text-align: left;">
    <b>
      <h4 class="card-header-text">
        <i><img style="width: 40px; height: 40px;" src="assets/images/avatars/Firewallinfo.png"></i>
        Firewall Request Form
      </h4>
    </b>
  </div>
  
  <div>
  <table class="a">
    <tr>
      <td>
        <div>
          <strong style="color: black; font-size: 17px;" class="strong" >Category : </strong>
          <span style="color: black;font-size: 17px;"> {{this.Category}} </span> 
        </div>
      </td>
      <td>
        <div>
          <strong style="color: black; font-size: 17px;" class="strong">Sub Category : </strong>
          <span style="color: black; font-size: 17px;"> {{this.SubCategory}}</span>
        </div>
      </td>
  
    </tr>
    <tr>
      <td>
        <div>
          <strong style="color: black; font-size: 17px;" class="strong">Business Justification : </strong>
          <span style="color: black;font-size: 17px;">{{this.BusinessJustification}}</span>
        </div>
      </td>
      <td>
        <div>
          <strong style="color: black; font-size: 17px;" class="strong">Managed Services : </strong>
          <span style="color: black;font-size: 17px;"> {{this.ManagedServices}}</span>
        </div>
      </td>
  
    </tr>
  
    <tr>
      <td>
        <div>
          <strong style="color: black;font-size: 17px;" class="strong">Firewall Region : </strong>
          <span style="color: black;font-size: 17px;">{{this.FirewallRegion}}</span>
        </div>
      </td>
      <td>
        <div>
          <strong  style="color: black;font-size: 17px;" class="strong">Normal Expedited : </strong>
          <span style="color: black;font-size: 17px;"> {{this.NormalExpedited}}</span>
        </div>
      </td>
  
    </tr>
  </table>
  </div>
  
  <br>
  
  <div>
    <div class="form-group row">
      <div class="col-sm-12"><strong
          style="font-size: 16px; font-weight: bold; color: black; font-family: Open Sans, sans-serif;">Security
          Policy</strong> </div>
      <div class="col-sm-12">
        <div id="check-list-drag-id" class="panel panel-default" dnd-sortable-container>
          <table id="testcase-table-checkList" class="table table-striped">
            <thead class="thead-dark background-color:'green'">
              <tr>
                <td class="w-6"><label class="text">S No.</label></td>
                <td class="w-40"><label class="text">Source VPC/Account</label></td>
                <td class="w-40"><label class="text">Source IP Address</label></td>
                <td class="w-40"><label class="text">Destination VPC/Account </label></td>
                <td class="w-40"><label class="text">Destination Address </label></td>
                <td class="w-40"><label class="text">Application</label></td>
                <td class="w-10"><label class="text">Port/Service</label></td>
                <td class="w-40"><label class="text">Protocol</label></td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let Policy of  SecurityPolicy;let i=index">
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{i+1}}
                </td>
                <td style="text-align: center; color: black;font-size: 17px;">
                  {{Policy.Sourcevpcaccount[i].key}}
                </td>
                <td style="text-align: center; color: black;font-size: 17px;">
                  {{Policy.Sourceipaddress}}
                </td>
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{Policy.Destinationvpcaccount[i].key}}
                </td>
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{Policy.Destination}}
                </td>
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{Policy.Application}}
                </td>
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{Policy.Portservice}}
                </td>
                <td style="padding-left: 25px; color: black;font-size: 17px;">
                  {{Policy.protocal[i].key}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!--<div class="col-sm-12" style="left:30px">
      <strong class="strong">Uploaded Files </strong>
      <input type="file" class="form-control-file" (change)="onFileUploadStatic($event)"
        accept="application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/*"
        multiple id="basicformFile1">
    </div>
    <br>
    <table class="table-striped table-bordered">
      <thead>
        <th>Sr. No</th>
        <th>File Name</th>
        <th>Action</th>
      </thead>
      <tbody>
        <tr *ngFor="let file of staticAttachmentTable; let fileIndex=index ">
          <td>{{fileIndex+1}}</td>
          <td><label>{{file.FileName}}</label></td>
  
          <td><a style="cursor:pointer;font-weight: bold" class="icofont icofont-eye-alt" placement="top" container="body"
              ngbTooltip="view" (click)="viewFile(file, fileIndex, 'Static')"></a>&nbsp;&nbsp;
  
          </td>
        </tr>
      </tbody>
    </table>-->
    <br>
  </div>
  
  
     
  
      <div>
        <h5>
          Risk Detail and Ranking
        </h5>
        <div *ngFor="let row of categoryLst;let i=index">
        <div class="row" style="padding:0px 13px;">
          <div class="col-sm-6" style="background-color:#bfc1c2;color: black;padding:10px"><strong>{{row.riskCategory}}</strong></div>
          <div class="col-sm-2"style="background-color:#bfc1c2;color: black; font-weight: bold;;padding:10px">Ranking - {{calculateRank(i,row.calcualtnLikelihood,row.calcualtnSeverity) }}</div>
          <div class="col-sm-2"style="background-color:#bfc1c2;color: black;font-weight: bold;;padding:10px">Likelihood - {{ calculateLikihood(row.calcualtnLikelihood )}}</div>
          <div class="col-sm-2"style="background-color:#bfc1c2;color: black;font-weight: bold;;padding:10px">Severity -  {{calculateSeverity(row.calcualtnSeverity) }}</div>
        </div>
        <table>
          <tr  style="color:black;font-weight: bold;">
            <td class="col-sm-2" style="padding: 10px;border: 1px solid #B2BEB5;">Risk Category</td>
            <td class="col-sm-3" style="padding: 10px;border: 1px solid #B2BEB5;">Identified Risk</td>
            <td class="col-sm-1" style="padding: 10px;border: 1px solid #B2BEB5;">Yes/No</td>
            <td class="col-sm-2" style="padding: 10px;border: 1px solid #B2BEB5;">Comments & Discussion</td>
            <td class="col-sm-2" style="padding: 10px;border: 1px solid #B2BEB5;">Likelihood</td>
            <td class="col-sm-2" style="padding: 10px;border: 1px solid #B2BEB5;">Severity</td>
          </tr>
      
          <tr style=" color:#000000" *ngFor="let rowquestions of row.questions; let in=index">
            <td style=" font-size: 15px; color:black;padding: 10px;border: 1px solid #B2BEB5;">{{rowquestions.risk}}</td>
            <td style="font-size: 15px; color:black;padding: 10px;border: 1px solid #B2BEB5;">{{rowquestions.questionExplanation.question}} 
              <i class="fa fas fa-info-circle" style="color: #bfc1c2;width: 25px;height: 25px;" ngbTooltip={{rowquestions.questionExplanation.explanation}}>
              </i>  
            </td>
      
           <td style="color:black;padding: 10px;border: 1px solid #B2BEB5;">
              {{rowquestions.yesNo}} 
            </td>     
             
            <td style="font-size: 15px; color: #000;padding: 10px;border: 1px solid #B2BEB5;">
            {{rowquestions.comments}}
             </td>
             <td style="color: #000;padding: 10px;border: 1px solid #B2BEB5;">
              <select disabled class="form-control" [(ngModel)]="rowquestions.decisionLikelihood" name="risklikelihood_{{in}}" (change)="ChangeLikelihood(row)"  required>
                <option value="">Select</option>    
                <option *ngFor="let decisionLikelihood of dataForValuelikelihood;let i=index" [value]="decisionLikelihood.value"  >
                      {{decisionLikelihood.key}}
                  </option>
              </select>
          </td>    
          <td style="color: #000;padding: 10px;border: 1px solid #B2BEB5;">
            <select disabled class="form-control"  name="riskseverity_{{in}}"   [(ngModel)]="rowquestions.decisionSeverity" (change)="ChangeSeverity(row)" [disabled]="rowquestions.decisionSeverity == '0'"  required>
              <option value="">Select</option>           
              <option *ngFor="let decisionSeverity of dataForValueSeverity;let i=index" [value]="decisionSeverity.value" >
                      {{decisionSeverity.key}}
                  </option>
              </select>       
          </td>
           
        </tr>
      
        </table>
        </div>
      </div>
  
    <br>
    <br>
  
  <div>
  <div class="table-wrapper">
    <h5>
      Risk Summary & Mitigation
    </h5>
    <div>
      
      <table style="width:100%;color: black;">
          <tr style="background-color: #bfc1c2;color:black;font-weight: bold;">
              <td class="col-sm-3" style="border: 1px solid #B2BEB5;padding:10px">Risk Category</td>
              <td class="col-sm-1"  style="border: 1px solid #B2BEB5;padding:10px">scroe</td>
              <td class="col-sm-1"  style="border: 1px solid #B2BEB5;padding:10px">Ranking</td>
              <td class="col-sm-4"  style="border: 1px solid #B2BEB5;padding:10px">Risk Mitigation Strategy</td>
              <td class="col-sm-3"  style="border: 1px solid #B2BEB5;padding:10px">Responsible Property</td>
          </tr>
          <tr *ngFor="let row of categoryLst;let i=index">
              <td class="col-sm-4" style="border: 1px solid #B2BEB5;">{{row.riskCategory}}</td>
              <td class="col-sm-1"  style="border: 1px solid #B2BEB5;">
                 {{row.calcualtnRanking}}
              </td>
              <td class="col-sm-1"  style="border: 1px solid #B2BEB5;">
                <div style="width:100px;height:50px;padding:10px;margin:10px"  [style.background-color]="row.color">
                  <span style="padding:0px 30px;">{{(row.ranking)}}</span>
              </div>
              </td>
              <td class="col-sm-4"  style="border: 1px solid #B2BEB5;">
                {{row.riskMitigationComments}}
              </td> 
              <td class="col-sm-2"  style="border: 1px solid #B2BEB5;">
                {{row.remediationResponsibleParty[1]}},{{row.remediationResponsibleParty[2]}}
              </td>
          </tr>
          </table>
  </div>
    <br>
    <br>
  
  </div>
   
  
       
   
  
  <div class="table-wrapper">  
    <h5>
      Remediation Plan
   </h5> 
         <table class="table-striped" style="width: 100%;padding:10px;color:black;">
          <tr style="color: black;background-color: #bfc1c2;font-weight: bold;">
            <td class="tabletd">Risk Being Mitigated</td>
            <td class="tabletd">Planned Completion</td>
            <td class="tabletd">Remediation Plan</td>
            <td class="tabletd">Status</td>
            <td class="tabletd">Responsible Party</td>
           
          </tr>
          <tr *ngFor="let row of categoryLst">
            <td class="tabletd">{{row.riskMitigationComments}}</td>
            <td class="tabletd">
              {{row.plannedCompletion}}
            </td>
            <td class="tabletd">
            {{row.remediationPlan}} 
            </td>
            <td class="tabletd">
              {{row.status}}
           </td>
            <td class="tabletd">      
              {{row.remediationResponsibleParty[1]}},{{row.remediationResponsibleParty[2]}}
            </td>
            
          </tr>
        </table>
         <br><br>
  </div>
  
  
  
      
    
        <div style="padding:0px 10px">
          <h5>
            Peer Review Comments
         </h5>
  
          <textarea name="peerReviewComment" id="" rows="4"   readonly style="height: 50%; width: 100%;color: black;font-size: 17px;">
            {{this.peerReviewComment}}</textarea>
          <br>
          <br>
        </div>
  
  
        <mat-accordion multi>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h6>Audit Trial</h6>
              </mat-panel-title>
              <mat-panel-description>
              </mat-panel-description>
          </mat-expansion-panel-header>
  
   <div class="card-body">
    <div>
         <div class="card-notification" *ngFor="let v of loadAuditData">
         
          <div class="card-noti-conatin">
    <div class="row">
        <div class="col-sm-6">
          <i style="color: red;" class="fa fa-circle">	</i>&nbsp;	&nbsp;				 
          <Strong style="size: 16px; color: black;">Module : </Strong><label style="size: 14px; color: black;">{{v.module}}</label>
          </div>
                <div class="col-sm-6">
                  <Strong style="size: 16px; color: black;">Event : </Strong><label style="size: 14px; color: black;">{{v.eventname}}</label>
        </div>
            
            </div>
          <div class="row"> 
            <div class="col-sm-6">
                <Strong style="size: 16px; color: black;">Ip Address : </Strong><label style="size: 14px; color: black;">{{v.ipaddress}}</label>
              </div>
              <div class="col-sm-6">
                <Strong style="size: 16px; color: black;"> Device : </Strong><label style="size: 14px; color: black;">{{v.browser}}</label>
              </div>
          </div>
            <div class="row">
                <div class="col-sm-6">
                  <Strong style="size: 16px; color: black;">Action Taken By : </Strong><label style="size: 14px; color: black;">{{v.username}}</label>
                  </div>
  
                        <div class="col-sm-6">
                <Strong style="size: 16px; color: black;">Action Taken On : </Strong><label style="size: 14px; color: black;">{{v.createddate| date: 'dd-MM-yyyy  hh:mm:ss'}}</label>
                </div>
             </div>
             <div class="row">
                <div class="col-sm-6">
                  <Strong style="size: 16px; color: black;">User Remarks : </Strong><label style="size: 14px; color: black;">{{(v.systemremarks==undefined || v.systemremarks.length<0)?'NA':v.systemremarks}}</label>
                  </div>
            </div>
  
             <br>
             
      
      <label>
        <Strong style="size: 16px; color: black;">System Remarks : </Strong>
        </label>
        <div class="dt-desc col-sm-12" style="padding: 0px; overflow-x:auto;">
        <div class="dt-desc dy-ui" style="padding-left: 0px !important;">
          <table class="table-striped table-bordered" style="width: 100%;">
            <thead>
              <th style="width: 5%;"  >S.NO</th>
             <th style="text-align: left !important;">Remarks</th>
            </thead>
            <tbody>
             <ng-container *ngFor="let remark of v.accesstype ; let i = index ">
                <tr *ngFor="let orivalue of remark.categorydescription; let j=index" > 
                  <td style="size: 14px; color: black;">  {{ j+1}}</td> 
                 <td style="size: 14px; color: black;">{{orivalue}} </td>
              </tr>
            </ng-container>  
            </tbody>
            </table>
        </div>
        </div>
       
      </div> <br>
      <hr>
        </div>
    
    </div>
  
  </div>
          </mat-expansion-panel>
          </mat-accordion>
  
  
  
  
  
  </div>
  </div>